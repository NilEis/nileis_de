---
import MainContent from "../../components/MainContent.astro";
import TitleAndMeta from "../../components/TitleAndMeta.astro";
---

<TitleAndMeta title="Reversi" />
<MainContent>
  <div class="flex justify-center items-center w-screen h-screen p-4">
    <div
      class="w-3/4 sm:w-1/2 md:w-2/5 lg:w-1/3 max-w-xs sm:max-w-sm md:max-w-md aspect-square"
    >
      <div class="grid grid-cols-8 gap-0 w-full h-full" id="reversi_grid">
        {
          Array.from({ length: 64 }, (_, i) => (
            <div
              class="flex items-center justify-center border-2 border-black bg-[#008d65] text-gray-800 font-bold text-lg m-0 p-0"
              id={`cell_${i}`}
            >
              <div
                id={`cell_piece_${i}`}
                class="w-full h-full rounded-[50%] bg-transparent transition-colors"
              />
            </div>
          ))
        }
      </div>
    </div>
  </div>
</MainContent>

<script>
  const grid = document.getElementById("reversi_grid") as HTMLDivElement;
  grid.childNodes.forEach((cell, index) => {
    index -= 1;
    cell.addEventListener("click", () => {
    //   alert(`Cell ${index} clicked!`);
      document.getElementById(`cell_piece_${index}`)!.style.backgroundColor = "#ffffff";
    });
  });
</script>
